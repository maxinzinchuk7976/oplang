&fn_token_command ; rdi envoriment, rsi buffer, rdx size, rcx position
4853
    ffc1 ; inc rcx
    e8*fn_tokenize_string_read
    81f8 ffffffff ; cmp eax, 0xffffffff
    741*fn_token_command_end
    4857
        488d3d*__command_include
        e8*fn_pstrcmp
        751*fn_token_command_scope
            485f
            e8*fn_token_command_include_handler
            eb1*fn_token_command_end
        &fn_token_command_scope
        488d3d*__command_scope
        e8*fn_pstrcmp
        751*fn_token_command_default
            485f
            e8*fn_token_command_scope_handler
            e8*fn_envoriment_push_keyword_scope
            eb1*fn_token_command_end
    &fn_token_command_default
    485f
    &fn_token_command_end
    
485b
c3

&fn_token_command_include_handler ; rdi envoriment, rsi buffer, rdx size, rcx position, rax file
    e8*fn_tokenize_string_read
    81f8 ffffffff ; cmp eax, 0xffffffff
    741*fn_token_command_include_handler_end
        4856
        4857
            488bf7 ; mov rsi, rdi
            488bf8 ; mov rdi, rax 
            e8*fn_start_file
        485f
        485e
    &fn_token_command_include_handler_end
c3

&fn_token_command_scope_handler
    e8*fn_tokenize_string_read
    81f8 ffffffff ; cmp eax, 0xffffffff
    741*fn_token_command_scope_handler_end
        e8*fn_envoriment_push_token_scope_open
    &fn_token_command_scope_handler_end
c3


&fn_envoriment_push_token_scope_open ; rax name, rdi envoriment
4850
4856
4857
    4833f6; xor rsi, rsi
    40b602; mov si, 09
    4850
        e8*fn_envoriment_push_token
        488bf0 ; mov rsi, rax
    4858
    c60602 ; mov [rsi], 2
    48894601 ; mov [rsi+1], rax
485f
485e
4858
c3

&fn_envoriment_push_keyword_scope ; rax name, rdi envoriment
4856
    4833f6; xor rsi, rsi
    40b611; mov si, 17
    e8*fn_envoriment_push_keyword
    488bf0 ; mov rsi, rax
    c60602 ; mov [rsi], 9
    e8*fn_envoriment_init_parent
    48894609 ; mov [rsi+9], rax
    488bf8 ; mov rdi, rax
485e
c3

&__command_include "include" 00
&__command_scope "scope" 00